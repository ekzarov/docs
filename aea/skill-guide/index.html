
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Everything you need to know about Fetch.ai.">
      
      
      
        <link rel="canonical" href="https://docs.fetch.ai/aea/skill-guide/">
      
      
        <meta name="author" content="developer@fetch.ai">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.7">
    
    
      
        <title>Build your first skill - search & discovery - Developer Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.19753c6b.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.196e0c26.min.css">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../css/style.css">
    
    
      
        
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-118969813-3","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview",document.location.pathname)})</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#dependencies-required" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://docs.fetch.ai/" title="Developer Documentation" class="md-header-nav__button md-logo" aria-label="Developer Documentation">
      
  <img src="../../images/logo.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Developer Documentation
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Build your first skill - search & discovery
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/fetchai/docs" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://docs.fetch.ai/" title="Developer Documentation" class="md-nav__button md-logo" aria-label="Developer Documentation">
      
  <img src="../../images/logo.png" alt="logo">

    </a>
    Developer Documentation
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/fetchai/docs" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    <label class="md-nav__link" for="nav-2">
      AEA Framework
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="AEA Framework" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon"></span>
        AEA Framework
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../version/" class="md-nav__link">
      Version
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../upgrading/" class="md-nav__link">
      Upgrading
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-4" type="checkbox" id="nav-2-4" >
    <label class="md-nav__link" for="nav-2-4">
      Concepts
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Concepts" data-md-level="2">
      <label class="md-nav__title" for="nav-2-4">
        <span class="md-nav__icon md-icon"></span>
        Concepts
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../language-agnostic-definition/" class="md-nav__link">
      Language Agnostic Definition
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../agent-oriented-development/" class="md-nav__link">
      Agent-oriented development
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vision/" class="md-nav__link">
      Vision
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../app-areas/" class="md-nav__link">
      Application areas
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../oef-ledger/" class="md-nav__link">
      Relation to OEF and Ledger
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../identity/" class="md-nav__link">
      Identity
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../trust/" class="md-nav__link">
      Trust minimisation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-5" type="checkbox" id="nav-2-5" >
    <label class="md-nav__link" for="nav-2-5">
      Demos
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Demos" data-md-level="2">
      <label class="md-nav__title" for="nav-2-5">
        <span class="md-nav__icon md-icon"></span>
        Demos
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../demos/" class="md-nav__link">
      Demos
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../aries-cloud-agent-demo/" class="md-nav__link">
      Aries Cloud Agents Demo
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../car-park-skills/" class="md-nav__link">
      Car park skills
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../gym-example/" class="md-nav__link">
      Gym example
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../gym-skill/" class="md-nav__link">
      Gym skill
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ml-skills/" class="md-nav__link">
      ML skills
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../oracle-demo/" class="md-nav__link">
      Oracle skills
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../aggregation-demo/" class="md-nav__link">
      Aggegation skill
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tac-skills/" class="md-nav__link">
      TAC skills
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tac-skills-contract/" class="md-nav__link">
      TAC skills ledger-based
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tac/" class="md-nav__link">
      TAC external app
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../thermometer-skills/" class="md-nav__link">
      Thermometer skills
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../weather-skills/" class="md-nav__link">
      Weather skills
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-6" type="checkbox" id="nav-2-6" checked>
    <label class="md-nav__link" for="nav-2-6">
      Development - Beginner
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Development - Beginner" data-md-level="2">
      <label class="md-nav__title" for="nav-2-6">
        <span class="md-nav__icon md-icon"></span>
        Development - Beginner
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../quickstart/" class="md-nav__link">
      AEA quick start
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../core-components-1/" class="md-nav__link">
      Core components - Part 1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../aea-vs-mvc/" class="md-nav__link">
      AEA and web frameworks
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Build your first skill - search & discovery
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      Build your first skill - search & discovery
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#dependencies-required" class="md-nav__link">
    Dependencies (Required)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-1-setup" class="md-nav__link">
    Step 1: Setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-develop-a-behaviour" class="md-nav__link">
    Step 2: Develop a Behaviour
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-develop-a-handler" class="md-nav__link">
    Step 3: Develop a Handler
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-4-add-dialogues-model" class="md-nav__link">
    Step 4: Add dialogues model
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-5-create-the-configuration-file" class="md-nav__link">
    Step 5: Create the configuration file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-6-update-fingerprint" class="md-nav__link">
    Step 6: Update fingerprint
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-7-add-the-oef-protocol-and-connection" class="md-nav__link">
    Step 7: Add the OEF protocol and connection
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-8-run-a-service-provider-aea" class="md-nav__link">
    Step 8: Run a service provider AEA
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-9-run-the-search-aea" class="md-nav__link">
    Step 9: Run the Search AEA
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    Next steps
  </a>
  
    <nav class="md-nav" aria-label="Next steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recommended" class="md-nav__link">
    Recommended
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relevant-deep-dives" class="md-nav__link">
    Relevant deep-dives
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../core-components-2/" class="md-nav__link">
      Core components - Part 2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../interaction-protocol/" class="md-nav__link">
      How AEAs talk to each other - interaction protocols
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../generic-skills-step-by-step/" class="md-nav__link">
      Trade between two AEAs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../development-setup/" class="md-nav__link">
      Development setup
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7" type="checkbox" id="nav-2-7" >
    <label class="md-nav__link" for="nav-2-7">
      Development - Advanced
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Development - Advanced" data-md-level="2">
      <label class="md-nav__title" for="nav-2-7">
        <span class="md-nav__icon md-icon"></span>
        Development - Advanced
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-1" type="checkbox" id="nav-2-7-1" >
    <label class="md-nav__link" for="nav-2-7-1">
      Topic guides
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Topic guides" data-md-level="3">
      <label class="md-nav__title" for="nav-2-7-1">
        <span class="md-nav__icon md-icon"></span>
        Topic guides
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../step-one/" class="md-nav__link">
      Ways to build an AEA
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../build-aea-step-by-step/" class="md-nav__link">
      Build an AEA with the CLI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../scaffolding/" class="md-nav__link">
      Scaffolding packages
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../protocol-generator/" class="md-nav__link">
      Generating protocols
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../logging/" class="md-nav__link">
      Logging
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../multiplexer-standalone/" class="md-nav__link">
      Use multiplexer stand-alone
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../standalone-transaction/" class="md-nav__link">
      Create stand-alone transaction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../decision-maker-transaction/" class="md-nav__link">
      Create decision-maker transaction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../skill-testing/" class="md-nav__link">
      Testing Skills
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deployment/" class="md-nav__link">
      Deployment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../12-factor/" class="md-nav__link">
      12-Factor app and AEAs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../prometheus/" class="md-nav__link">
      Prometheus monitoring
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../known-limits/" class="md-nav__link">
      Known limitations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../build-aea-programmatically/" class="md-nav__link">
      Build an AEA programmatically
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cli-vs-programmatic-aeas/" class="md-nav__link">
      CLI vs programmatic AEAs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../agent-vs-aea/" class="md-nav__link">
      AEAs vs agents
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../modes/" class="md-nav__link">
      Modes of running an AEA
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../generic-storage/" class="md-nav__link">
      Generic Storage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../multi-agent-manager/" class="md-nav__link">
      Multi agent manager
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../debug/" class="md-nav__link">
      Debugging
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../runtime-cost/" class="md-nav__link">
      Profiling
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../por/" class="md-nav__link">
      Proof of Representation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../security/" class="md-nav__link">
      Security
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-2" type="checkbox" id="nav-2-7-2" >
    <label class="md-nav__link" for="nav-2-7-2">
      Architecture & component deep-dives
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Architecture & component deep-dives" data-md-level="3">
      <label class="md-nav__title" for="nav-2-7-2">
        <span class="md-nav__icon md-icon"></span>
        Architecture & component deep-dives
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../design-principles/" class="md-nav__link">
      Design principles
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../diagram/" class="md-nav__link">
      Architectural diagram
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../connection/" class="md-nav__link">
      Connections
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../protocol/" class="md-nav__link">
      Protocols
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../skill/" class="md-nav__link">
      Skills
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../contract/" class="md-nav__link">
      Contracts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../decision-maker/" class="md-nav__link">
      Decision Maker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ledger-integration/" class="md-nav__link">
      Ledger & Crypto APIs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../message-routing/" class="md-nav__link">
      Message routing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../config/" class="md-nav__link">
      Configurations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../limits/" class="md-nav__link">
      Limitations of v1
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-3" type="checkbox" id="nav-2-7-3" >
    <label class="md-nav__link" for="nav-2-7-3">
      Agent Communication
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Agent Communication" data-md-level="3">
      <label class="md-nav__title" for="nav-2-7-3">
        <span class="md-nav__icon md-icon"></span>
        Agent Communication
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../acn/" class="md-nav__link">
      Agent Communication Network
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../acn-internals/" class="md-nav__link">
      ACN Internals
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-4" type="checkbox" id="nav-2-7-4" >
    <label class="md-nav__link" for="nav-2-7-4">
      Search & Discovery
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Search & Discovery" data-md-level="3">
      <label class="md-nav__title" for="nav-2-7-4">
        <span class="md-nav__icon md-icon"></span>
        Search & Discovery
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../simple-oef/" class="md-nav__link">
      Simple OEF
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../defining-data-models/" class="md-nav__link">
      Defining Data Models
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../query-language/" class="md-nav__link">
      The Query Language
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../simple-oef-usage/" class="md-nav__link">
      SOEF Connection
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-5" type="checkbox" id="nav-2-7-5" >
    <label class="md-nav__link" for="nav-2-7-5">
      Developer Interfaces
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Developer Interfaces" data-md-level="3">
      <label class="md-nav__title" for="nav-2-7-5">
        <span class="md-nav__icon md-icon"></span>
        Developer Interfaces
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-5-1" type="checkbox" id="nav-2-7-5-1" >
    <label class="md-nav__link" for="nav-2-7-5-1">
      CLI
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="CLI" data-md-level="4">
      <label class="md-nav__title" for="nav-2-7-5-1">
        <span class="md-nav__icon md-icon"></span>
        CLI
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../cli-how-to/" class="md-nav__link">
      Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cli-commands/" class="md-nav__link">
      Commands
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../package-imports/" class="md-nav__link">
      File structure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../wealth/" class="md-nav__link">
      Generating wealth
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-6" type="checkbox" id="nav-2-7-6" >
    <label class="md-nav__link" for="nav-2-7-6">
      Benchmarks
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Benchmarks" data-md-level="3">
      <label class="md-nav__title" for="nav-2-7-6">
        <span class="md-nav__icon md-icon"></span>
        Benchmarks
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../performance-benchmark/" class="md-nav__link">
      Performance benchmark
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-7" type="checkbox" id="nav-2-7-7" >
    <label class="md-nav__link" for="nav-2-7-7">
      API
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="API" data-md-level="3">
      <label class="md-nav__title" for="nav-2-7-7">
        <span class="md-nav__icon md-icon"></span>
        API
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/abstract_agent/" class="md-nav__link">
      AbstractAgent
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/aea/" class="md-nav__link">
      AEA
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/aea_builder/" class="md-nav__link">
      AEA Builder
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/agent/" class="md-nav__link">
      Agent
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/agent_loop/" class="md-nav__link">
      Agent Loop
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/common/" class="md-nav__link">
      Common
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/exceptions/" class="md-nav__link">
      Exceptions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/launcher/" class="md-nav__link">
      Launcher
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/multiplexer/" class="md-nav__link">
      Multiplexer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/runner/" class="md-nav__link">
      Runner
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/runtime/" class="md-nav__link">
      Runtime
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-7-12" type="checkbox" id="nav-2-7-7-12" >
    <label class="md-nav__link" for="nav-2-7-7-12">
      Components
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Components" data-md-level="4">
      <label class="md-nav__title" for="nav-2-7-7-12">
        <span class="md-nav__icon md-icon"></span>
        Components
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/components/base/" class="md-nav__link">
      Base
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/components/loader/" class="md-nav__link">
      Loader
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/components/utils/" class="md-nav__link">
      Utils
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-7-13" type="checkbox" id="nav-2-7-7-13" >
    <label class="md-nav__link" for="nav-2-7-7-13">
      Configurations
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Configurations" data-md-level="4">
      <label class="md-nav__title" for="nav-2-7-7-13">
        <span class="md-nav__icon md-icon"></span>
        Configurations
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/configurations/base/" class="md-nav__link">
      Base
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/configurations/constants/" class="md-nav__link">
      Constants
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/configurations/data_types/" class="md-nav__link">
      Data Types
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/configurations/loader/" class="md-nav__link">
      Loader
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/configurations/manager/" class="md-nav__link">
      Manager
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/configurations/pypi/" class="md-nav__link">
      Pypi
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/configurations/utils/" class="md-nav__link">
      Utils
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/configurations/validation/" class="md-nav__link">
      Validation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-7-14" type="checkbox" id="nav-2-7-7-14" >
    <label class="md-nav__link" for="nav-2-7-7-14">
      Connections
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Connections" data-md-level="4">
      <label class="md-nav__title" for="nav-2-7-7-14">
        <span class="md-nav__icon md-icon"></span>
        Connections
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/connections/base/" class="md-nav__link">
      Base
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/context/base/" class="md-nav__link">
      Context
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-7-16" type="checkbox" id="nav-2-7-7-16" >
    <label class="md-nav__link" for="nav-2-7-7-16">
      Contracts
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Contracts" data-md-level="4">
      <label class="md-nav__title" for="nav-2-7-7-16">
        <span class="md-nav__icon md-icon"></span>
        Contracts
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/contracts/base/" class="md-nav__link">
      Base
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-7-17" type="checkbox" id="nav-2-7-7-17" >
    <label class="md-nav__link" for="nav-2-7-7-17">
      Crypto
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Crypto" data-md-level="4">
      <label class="md-nav__title" for="nav-2-7-7-17">
        <span class="md-nav__icon md-icon"></span>
        Crypto
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/crypto/base/" class="md-nav__link">
      Base
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/crypto/helpers/" class="md-nav__link">
      Helpers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/crypto/ledger_apis/" class="md-nav__link">
      LedgerApis
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/crypto/plugin/" class="md-nav__link">
      Plugin
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/crypto/wallet/" class="md-nav__link">
      Wallet
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-7-17-6" type="checkbox" id="nav-2-7-7-17-6" >
    <label class="md-nav__link" for="nav-2-7-7-17-6">
      Registries
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Registries" data-md-level="5">
      <label class="md-nav__title" for="nav-2-7-7-17-6">
        <span class="md-nav__icon md-icon"></span>
        Registries
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/crypto/registries/base/" class="md-nav__link">
      Base
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-7-18" type="checkbox" id="nav-2-7-7-18" >
    <label class="md-nav__link" for="nav-2-7-7-18">
      Decision Maker
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Decision Maker" data-md-level="4">
      <label class="md-nav__title" for="nav-2-7-7-18">
        <span class="md-nav__icon md-icon"></span>
        Decision Maker
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/decision_maker/base/" class="md-nav__link">
      Base
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/decision_maker/default/" class="md-nav__link">
      Default
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/decision_maker/gop/" class="md-nav__link">
      GOP
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-7-19" type="checkbox" id="nav-2-7-7-19" >
    <label class="md-nav__link" for="nav-2-7-7-19">
      Error Handler
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Error Handler" data-md-level="4">
      <label class="md-nav__title" for="nav-2-7-7-19">
        <span class="md-nav__icon md-icon"></span>
        Error Handler
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/error_handler/base/" class="md-nav__link">
      Base
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/error_handler/default/" class="md-nav__link">
      Default
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-7-20" type="checkbox" id="nav-2-7-7-20" >
    <label class="md-nav__link" for="nav-2-7-7-20">
      Helpers
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Helpers" data-md-level="4">
      <label class="md-nav__title" for="nav-2-7-7-20">
        <span class="md-nav__icon md-icon"></span>
        Helpers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-7-20-1" type="checkbox" id="nav-2-7-7-20-1" >
    <label class="md-nav__link" for="nav-2-7-7-20-1">
      ACN
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="ACN" data-md-level="5">
      <label class="md-nav__title" for="nav-2-7-7-20-1">
        <span class="md-nav__icon md-icon"></span>
        ACN
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/helpers/acn/agent_record/" class="md-nav__link">
      Agent Record
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/helpers/acn/uri/" class="md-nav__link">
      URI
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/helpers/async_friendly_queue/" class="md-nav__link">
      Async Friendly Queue
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/helpers/async_utils/" class="md-nav__link">
      Async Utils
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/helpers/base/" class="md-nav__link">
      Base
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/helpers/constants/" class="md-nav__link">
      Constants
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/helpers/env_vars/" class="md-nav__link">
      Env Vars
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/helpers/exception_policy/" class="md-nav__link">
      Exception Policy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/helpers/exec_timeout/" class="md-nav__link">
      Exec Timeout
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/helpers/file_io/" class="md-nav__link">
      File IO
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/helpers/file_lock/" class="md-nav__link">
      File Lock
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/helpers/http_requests/" class="md-nav__link">
      HttpRequests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/helpers/install_dependency/" class="md-nav__link">
      Install Dependency
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/helpers/io/" class="md-nav__link">
      IO
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-7-20-14" type="checkbox" id="nav-2-7-7-20-14" >
    <label class="md-nav__link" for="nav-2-7-7-20-14">
      IPFS
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="IPFS" data-md-level="5">
      <label class="md-nav__title" for="nav-2-7-7-20-14">
        <span class="md-nav__icon md-icon"></span>
        IPFS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/helpers/ipfs/base/" class="md-nav__link">
      Base
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/helpers/ipfs/utils/" class="md-nav__link">
      Utils
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/helpers/logging/" class="md-nav__link">
      Logging
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-7-20-16" type="checkbox" id="nav-2-7-7-20-16" >
    <label class="md-nav__link" for="nav-2-7-7-20-16">
      MultiAddress
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="MultiAddress" data-md-level="5">
      <label class="md-nav__title" for="nav-2-7-7-20-16">
        <span class="md-nav__icon md-icon"></span>
        MultiAddress
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/helpers/multiaddr/base/" class="md-nav__link">
      Base
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/helpers/multiple_executor/" class="md-nav__link">
      MultipleExecutor
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/helpers/pipe/" class="md-nav__link">
      Pipe
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-7-20-19" type="checkbox" id="nav-2-7-7-20-19" >
    <label class="md-nav__link" for="nav-2-7-7-20-19">
      Preferences
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Preferences" data-md-level="5">
      <label class="md-nav__title" for="nav-2-7-7-20-19">
        <span class="md-nav__icon md-icon"></span>
        Preferences
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/helpers/preference_representations/base/" class="md-nav__link">
      Base
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/helpers/profiling/" class="md-nav__link">
      Profiling
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-7-20-21" type="checkbox" id="nav-2-7-7-20-21" >
    <label class="md-nav__link" for="nav-2-7-7-20-21">
      Search
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Search" data-md-level="5">
      <label class="md-nav__title" for="nav-2-7-7-20-21">
        <span class="md-nav__icon md-icon"></span>
        Search
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/helpers/search/generic/" class="md-nav__link">
      Generic
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/helpers/search/models/" class="md-nav__link">
      Models
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/helpers/serializers/" class="md-nav__link">
      Serializers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-7-20-23" type="checkbox" id="nav-2-7-7-20-23" >
    <label class="md-nav__link" for="nav-2-7-7-20-23">
      Storage
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Storage" data-md-level="5">
      <label class="md-nav__title" for="nav-2-7-7-20-23">
        <span class="md-nav__icon md-icon"></span>
        Storage
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/helpers/storage/generic_storage/" class="md-nav__link">
      GenericStorage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-7-20-23-2" type="checkbox" id="nav-2-7-7-20-23-2" >
    <label class="md-nav__link" for="nav-2-7-7-20-23-2">
      Backends
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Backends" data-md-level="6">
      <label class="md-nav__title" for="nav-2-7-7-20-23-2">
        <span class="md-nav__icon md-icon"></span>
        Backends
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/helpers/storage/backends/base/" class="md-nav__link">
      Base
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/helpers/storage/backends/sqlite/" class="md-nav__link">
      Sqlite
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/helpers/sym_link/" class="md-nav__link">
      Sym Link
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-7-20-25" type="checkbox" id="nav-2-7-7-20-25" >
    <label class="md-nav__link" for="nav-2-7-7-20-25">
      Transaction
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Transaction" data-md-level="5">
      <label class="md-nav__title" for="nav-2-7-7-20-25">
        <span class="md-nav__icon md-icon"></span>
        Transaction
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/helpers/transaction/base/" class="md-nav__link">
      Base
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/helpers/win32/" class="md-nav__link">
      Win32
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/helpers/yaml_utils/" class="md-nav__link">
      YamlUtils
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/identity/base/" class="md-nav__link">
      Identity
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/mail/base/" class="md-nav__link">
      Mail
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-7-23" type="checkbox" id="nav-2-7-7-23" >
    <label class="md-nav__link" for="nav-2-7-7-23">
      Manager
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Manager" data-md-level="4">
      <label class="md-nav__title" for="nav-2-7-7-23">
        <span class="md-nav__icon md-icon"></span>
        Manager
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/manager/manager/" class="md-nav__link">
      Manager
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/manager/project/" class="md-nav__link">
      Project
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/manager/utils/" class="md-nav__link">
      Utils
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-7-24" type="checkbox" id="nav-2-7-7-24" >
    <label class="md-nav__link" for="nav-2-7-7-24">
      Protocols
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Protocols" data-md-level="4">
      <label class="md-nav__title" for="nav-2-7-7-24">
        <span class="md-nav__icon md-icon"></span>
        Protocols
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/protocols/base/" class="md-nav__link">
      Base
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-7-24-2" type="checkbox" id="nav-2-7-7-24-2" >
    <label class="md-nav__link" for="nav-2-7-7-24-2">
      Dialogue
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Dialogue" data-md-level="5">
      <label class="md-nav__title" for="nav-2-7-7-24-2">
        <span class="md-nav__icon md-icon"></span>
        Dialogue
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/protocols/dialogue/base/" class="md-nav__link">
      Base
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-7-24-3" type="checkbox" id="nav-2-7-7-24-3" >
    <label class="md-nav__link" for="nav-2-7-7-24-3">
      Generator
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Generator" data-md-level="5">
      <label class="md-nav__title" for="nav-2-7-7-24-3">
        <span class="md-nav__icon md-icon"></span>
        Generator
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/protocols/generator/base/" class="md-nav__link">
      Base
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/protocols/generator/common/" class="md-nav__link">
      Common
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/protocols/generator/extract_specification/" class="md-nav__link">
      Extract Specification
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/protocols/generator/validate/" class="md-nav__link">
      Validate
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-7-24-4" type="checkbox" id="nav-2-7-7-24-4" >
    <label class="md-nav__link" for="nav-2-7-7-24-4">
      Default Protocol
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Default Protocol" data-md-level="5">
      <label class="md-nav__title" for="nav-2-7-7-24-4">
        <span class="md-nav__icon md-icon"></span>
        Default Protocol
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/protocols/default/custom_types/" class="md-nav__link">
      Custom Types
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/protocols/default/dialogues/" class="md-nav__link">
      Dialogues
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/protocols/default/message/" class="md-nav__link">
      Message
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/protocols/default/serialization/" class="md-nav__link">
      Serialization
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-7-24-5" type="checkbox" id="nav-2-7-7-24-5" >
    <label class="md-nav__link" for="nav-2-7-7-24-5">
      Signing Protocol
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Signing Protocol" data-md-level="5">
      <label class="md-nav__title" for="nav-2-7-7-24-5">
        <span class="md-nav__icon md-icon"></span>
        Signing Protocol
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/protocols/signing/custom_types/" class="md-nav__link">
      Custom Types
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/protocols/signing/dialogues/" class="md-nav__link">
      Dialogues
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/protocols/signing/message/" class="md-nav__link">
      Message
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/protocols/signing/serialization/" class="md-nav__link">
      Serialization
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-7-24-6" type="checkbox" id="nav-2-7-7-24-6" >
    <label class="md-nav__link" for="nav-2-7-7-24-6">
      State Update Protocol
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="State Update Protocol" data-md-level="5">
      <label class="md-nav__title" for="nav-2-7-7-24-6">
        <span class="md-nav__icon md-icon"></span>
        State Update Protocol
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/protocols/state_update/dialogues/" class="md-nav__link">
      Dialogues
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/protocols/state_update/message/" class="md-nav__link">
      Message
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/protocols/state_update/serialization/" class="md-nav__link">
      Serialization
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-7-25" type="checkbox" id="nav-2-7-7-25" >
    <label class="md-nav__link" for="nav-2-7-7-25">
      Registries
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Registries" data-md-level="4">
      <label class="md-nav__title" for="nav-2-7-7-25">
        <span class="md-nav__icon md-icon"></span>
        Registries
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/registries/base/" class="md-nav__link">
      Base
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/registries/filter/" class="md-nav__link">
      Filter
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/registries/resources/" class="md-nav__link">
      Resources
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-7-26" type="checkbox" id="nav-2-7-7-26" >
    <label class="md-nav__link" for="nav-2-7-7-26">
      Skills
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Skills" data-md-level="4">
      <label class="md-nav__title" for="nav-2-7-7-26">
        <span class="md-nav__icon md-icon"></span>
        Skills
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/skills/base/" class="md-nav__link">
      Base
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/skills/behaviours/" class="md-nav__link">
      Behaviors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/skills/tasks/" class="md-nav__link">
      Task
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-7-27" type="checkbox" id="nav-2-7-7-27" >
    <label class="md-nav__link" for="nav-2-7-7-27">
      Test Tools
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Test Tools" data-md-level="4">
      <label class="md-nav__title" for="nav-2-7-7-27">
        <span class="md-nav__icon md-icon"></span>
        Test Tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/test_tools/constants/" class="md-nav__link">
      Constants
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/test_tools/exceptions/" class="md-nav__link">
      Exceptions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/test_tools/generic/" class="md-nav__link">
      Generic
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/test_tools/test_cases/" class="md-nav__link">
      Test Cases
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/test_tools/test_contract/" class="md-nav__link">
      Test Contract
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/test_tools/test_skill/" class="md-nav__link">
      Test Skill
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-7-28" type="checkbox" id="nav-2-7-7-28" >
    <label class="md-nav__link" for="nav-2-7-7-28">
      Plugins
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Plugins" data-md-level="4">
      <label class="md-nav__title" for="nav-2-7-7-28">
        <span class="md-nav__icon md-icon"></span>
        Plugins
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-7-28-1" type="checkbox" id="nav-2-7-7-28-1" >
    <label class="md-nav__link" for="nav-2-7-7-28-1">
      CLI
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="CLI" data-md-level="5">
      <label class="md-nav__title" for="nav-2-7-7-28-1">
        <span class="md-nav__icon md-icon"></span>
        CLI
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-7-28-1-1" type="checkbox" id="nav-2-7-7-28-1-1" >
    <label class="md-nav__link" for="nav-2-7-7-28-1-1">
      IPFS
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="IPFS" data-md-level="6">
      <label class="md-nav__title" for="nav-2-7-7-28-1-1">
        <span class="md-nav__icon md-icon"></span>
        IPFS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/plugins/aea_cli_ipfs/core/" class="md-nav__link">
      API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/plugins/aea_cli_ipfs/ipfs_utils/" class="md-nav__link">
      Utils
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-7-28-2" type="checkbox" id="nav-2-7-7-28-2" >
    <label class="md-nav__link" for="nav-2-7-7-28-2">
      Ledger
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Ledger" data-md-level="5">
      <label class="md-nav__title" for="nav-2-7-7-28-2">
        <span class="md-nav__icon md-icon"></span>
        Ledger
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-7-28-2-1" type="checkbox" id="nav-2-7-7-28-2-1" >
    <label class="md-nav__link" for="nav-2-7-7-28-2-1">
      Cosmos
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Cosmos" data-md-level="6">
      <label class="md-nav__title" for="nav-2-7-7-28-2-1">
        <span class="md-nav__icon md-icon"></span>
        Cosmos
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/plugins/aea_ledger_cosmos/cosmos/" class="md-nav__link">
      API
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-7-28-2-2" type="checkbox" id="nav-2-7-7-28-2-2" >
    <label class="md-nav__link" for="nav-2-7-7-28-2-2">
      Ethereum
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Ethereum" data-md-level="6">
      <label class="md-nav__title" for="nav-2-7-7-28-2-2">
        <span class="md-nav__icon md-icon"></span>
        Ethereum
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/plugins/aea_ledger_ethereum/ethereum/" class="md-nav__link">
      API
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-7-7-28-2-3" type="checkbox" id="nav-2-7-7-28-2-3" >
    <label class="md-nav__link" for="nav-2-7-7-28-2-3">
      Fetchai
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Fetchai" data-md-level="6">
      <label class="md-nav__title" for="nav-2-7-7-28-2-3">
        <span class="md-nav__icon md-icon"></span>
        Fetchai
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/plugins/aea_ledger_fetchai/fetchai/" class="md-nav__link">
      API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/plugins/aea_ledger_fetchai/_cosmos/" class="md-nav__link">
      Helper
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-8" type="checkbox" id="nav-2-8" >
    <label class="md-nav__link" for="nav-2-8">
      Development - Use Case
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Development - Use Case" data-md-level="2">
      <label class="md-nav__title" for="nav-2-8">
        <span class="md-nav__icon md-icon"></span>
        Development - Use Case
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../generic-skills/" class="md-nav__link">
      Generic skills
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../connect-a-frontend/" class="md-nav__link">
      Front-end intergration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-connection-and-skill/" class="md-nav__link">
      HTTP Connection
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../orm-integration/" class="md-nav__link">
      ORM integration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../erc1155-skills/" class="md-nav__link">
      Contract deploy and interact
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../p2p-connection/" class="md-nav__link">
      P2P Connection
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../raspberry-set-up/" class="md-nav__link">
      Build an AEA on a Raspberry Pi
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../glossary/" class="md-nav__link">
      Glossary
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../questions-and-answers/" class="md-nav__link">
      Q&A
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" >
    <label class="md-nav__link" for="nav-3">
      Cosmpy
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Cosmpy" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        Cosmpy
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../CosmPy/" class="md-nav__link">
      Getting started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-2" type="checkbox" id="nav-3-2" >
    <label class="md-nav__link" for="nav-3-2">
      Beginner
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Beginner" data-md-level="2">
      <label class="md-nav__title" for="nav-3-2">
        <span class="md-nav__icon md-icon"></span>
        Beginner
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../CosmPy/connect-to-network/" class="md-nav__link">
      Connect to a network
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CosmPy/query-balance/" class="md-nav__link">
      Query the balance
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CosmPy/wallets-and-keys/" class="md-nav__link">
      Wallets and Keys
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CosmPy/send-tokens/" class="md-nav__link">
      Send tokens
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CosmPy/staking/" class="md-nav__link">
      Staking
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-2-6" type="checkbox" id="nav-3-2-6" >
    <label class="md-nav__link" for="nav-3-2-6">
      Smart Contracts
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Smart Contracts" data-md-level="3">
      <label class="md-nav__title" for="nav-3-2-6">
        <span class="md-nav__icon md-icon"></span>
        Smart Contracts
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../CosmPy/deploy-a-contract/" class="md-nav__link">
      Deploy a contract
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-3" type="checkbox" id="nav-3-3" >
    <label class="md-nav__link" for="nav-3-3">
      Advanced (coming soon!)
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Advanced (coming soon!)" data-md-level="2">
      <label class="md-nav__title" for="nav-3-3">
        <span class="md-nav__icon md-icon"></span>
        Advanced (coming soon!)
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../CosmPy/governance/" class="md-nav__link">
      Governance
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" >
    <label class="md-nav__link" for="nav-4">
      Search and Discovery (SOEF)
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Search and Discovery (SOEF)" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon"></span>
        Search and Discovery (SOEF)
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../soef/simple-oef/" class="md-nav__link">
      Simple OEF
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../soef/simple-oef-usage/" class="md-nav__link">
      SOEF Connection
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" >
    <label class="md-nav__link" for="nav-5">
      Ledger
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Ledger" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon"></span>
        Ledger
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../ledger_v2/" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ledger_v2/building/" class="md-nav__link">
      Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ledger_v2/versions/" class="md-nav__link">
      Versions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ledger_v2/networks/" class="md-nav__link">
      Networks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5-5" type="checkbox" id="nav-5-5" >
    <label class="md-nav__link" for="nav-5-5">
      Commandline Client
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Commandline Client" data-md-level="2">
      <label class="md-nav__title" for="nav-5-5">
        <span class="md-nav__icon md-icon"></span>
        Commandline Client
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../ledger_v2/cli-introduction/" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ledger_v2/cli-keys/" class="md-nav__link">
      Keys
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ledger_v2/cli-tokens/" class="md-nav__link">
      Tokens
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ledger_v2/cli-multisig/" class="md-nav__link">
      Multisig Keys
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ledger_v2/delegator-guide-cli/" class="md-nav__link">
      Delegator Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ledger_v2/cli-governance/" class="md-nav__link">
      Governance Proposals
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5-6" type="checkbox" id="nav-5-6" >
    <label class="md-nav__link" for="nav-5-6">
      Validators
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Validators" data-md-level="2">
      <label class="md-nav__title" for="nav-5-6">
        <span class="md-nav__icon md-icon"></span>
        Validators
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../ledger_v2/validators/overview/" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ledger_v2/validators/security/" class="md-nav__link">
      Security
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ledger_v2/validators/setup/" class="md-nav__link">
      Setup
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ledger_v2/joining-a-testnet/" class="md-nav__link">
      Joining a Testnet
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ledger_v2/single-node-network/" class="md-nav__link">
      Single Node Testnet
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ledger_v2/block-explorer/" class="md-nav__link">
      Block Explorer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ledger_v2/governance/" class="md-nav__link">
      Governance
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ledger_v2/faucet/" class="md-nav__link">
      Faucet
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ledger_v2/reconciliation-service/" class="md-nav__link">
      Reconciliation Service
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5-13" type="checkbox" id="nav-5-13" >
    <label class="md-nav__link" for="nav-5-13">
      Guides
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Guides" data-md-level="2">
      <label class="md-nav__title" for="nav-5-13">
        <span class="md-nav__icon md-icon"></span>
        Guides
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../ledger_v2/how-to-use-browser-wallet/" class="md-nav__link">
      How to Use the Browser Extension Wallet
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ledger_v2/how-to-stake-with-browser/" class="md-nav__link">
      How to Stake with the Browser Extension Wallet
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ledger_v2/redelegate-for-decentralization/" class="md-nav__link">
      How to Redelegate for Decentralization
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ledger_v2/convert-native-fet/" class="md-nav__link">
      How to Convert Native Fet to Erc20 Fet Using Fetch.ai Browser Extension Wallet
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" >
    <label class="md-nav__link" for="nav-6">
      Collective Learning
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Collective Learning" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon"></span>
        Collective Learning
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../colearn/" class="md-nav__link">
      Colearn
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../colearn/about/" class="md-nav__link">
      Collective Learning Protocol
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6-3" type="checkbox" id="nav-6-3" >
    <label class="md-nav__link" for="nav-6-3">
      Getting Started
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Getting Started" data-md-level="2">
      <label class="md-nav__title" for="nav-6-3">
        <span class="md-nav__icon md-icon"></span>
        Getting Started
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../colearn/installation/" class="md-nav__link">
      Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../colearn/intro_tutorial_keras/" class="md-nav__link">
      Keras
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../colearn/intro_tutorial_pytorch/" class="md-nav__link">
      PyTorch
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../colearn/intro_tutorial_mli/" class="md-nav__link">
      The MachineLearningInterface
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../colearn/differential_privacy/" class="md-nav__link">
      Differential Privacy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../colearn/grpc_tutorial/" class="md-nav__link">
      gRPC server
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6-4" type="checkbox" id="nav-6-4" >
    <label class="md-nav__link" for="nav-6-4">
      Examples
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Examples" data-md-level="2">
      <label class="md-nav__title" for="nav-6-4">
        <span class="md-nav__icon md-icon"></span>
        Examples
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../colearn/demo/" class="md-nav__link">
      Demo
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../colearn/examples/" class="md-nav__link">
      Standalone examples
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../colearn/grpc_examples/" class="md-nav__link">
      gRPC example
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../bug_bounty/" class="md-nav__link">
      Bug Bounty Program
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#dependencies-required" class="md-nav__link">
    Dependencies (Required)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-1-setup" class="md-nav__link">
    Step 1: Setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-develop-a-behaviour" class="md-nav__link">
    Step 2: Develop a Behaviour
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-develop-a-handler" class="md-nav__link">
    Step 3: Develop a Handler
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-4-add-dialogues-model" class="md-nav__link">
    Step 4: Add dialogues model
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-5-create-the-configuration-file" class="md-nav__link">
    Step 5: Create the configuration file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-6-update-fingerprint" class="md-nav__link">
    Step 6: Update fingerprint
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-7-add-the-oef-protocol-and-connection" class="md-nav__link">
    Step 7: Add the OEF protocol and connection
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-8-run-a-service-provider-aea" class="md-nav__link">
    Step 8: Run a service provider AEA
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-9-run-the-search-aea" class="md-nav__link">
    Step 9: Run the Search AEA
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    Next steps
  </a>
  
    <nav class="md-nav" aria-label="Next steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recommended" class="md-nav__link">
    Recommended
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relevant-deep-dives" class="md-nav__link">
    Relevant deep-dives
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Build your first skill - search & discovery</h1>
                
                <p>This guide will take you through the development of your first skill. It will teach you, how to connect the AEA to the digital world, register the AEA and search for other AEAs.</p>
<p>Although one can imagine scenarios where a single AEA pursues its goals in isolation without interacting with other AEAs, there is no doubt that by working together, AEAs can achieve much more. To do so, an AEA must be seen and found by other AEAs so that they can trade and do other useful things. Fetch.ai’s search-and-discovery mechanism, the <a href="../simple-oef">simple OEF</a> (or SOEF, for short) lets your agents register, be discovered, and find other agents. You can then negotiate using the AEA framework’s <a href="../acn">peer-to-peer network (ACN)</a> and trade. This guide covers getting your AEA connected to the SOEF, and describing your AEA to make itself visible.</p>
<p>Registering your AEA with the SOEF involves setting a name, a genus (a high-level description of what the agent represents, e.g. <code>vehicle</code>, <code>building</code> or <code>service</code>), a classification (for example <code>infrastructure.railway.train</code>) and other descriptors to further fine-tune the kind of service your AEA offers (for example, the agent's position, whether it buys or sells, and other descriptive items).</p>
<p>The more you describe your AEA, the easier it is for others to find it using specific filters.</p>
<h2 id="dependencies-required">Dependencies (Required)</h2>
<p>Follow the <a href="../quickstart/#preliminaries">Preliminaries</a> and <a href="../quickstart/#installation">Installation</a> sections from the AEA quick start.</p>
<h2 id="step-1-setup">Step 1: Setup</h2>
<p>We will first create an AEA and add a scaffold skill, which we call <code>my_search</code>.</p>
<div class="highlight"><pre><span></span><code>aea create my_aea <span class="o">&amp;&amp;</span> <span class="nb">cd</span> my_aea
aea scaffold skill my_search
</code></pre></div>
<p>In the following steps, we replace the scaffolded <code>Behaviour</code> and <code>Handler</code> in <code>my_aea/skills/my_search</code> with our implementation. We will build a simple skill which lets the AEA send a search query to the <a href="../simple-oef">SOEF search node</a> and process the resulting response.</p>
<h2 id="step-2-develop-a-behaviour">Step 2: Develop a Behaviour</h2>
<p>A <a href="../api/skills/base#behaviour-objects"><code>Behaviour</code></a> class contains the business logic specific to actions initiated by the AEA rather than reactions to other events.</p>
<p>In this example, we implement a simple search behaviour. Each time, <code>act()</code> gets called by the main agent loop, we will send a search request to the <a href="../simple-oef">SOEF search node</a> via the <a href="../oef-ledger">P2P communication network</a>.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">cast</span>

<span class="kn">from</span> <span class="nn">aea.helpers.search.models</span> <span class="kn">import</span> <span class="n">Constraint</span><span class="p">,</span> <span class="n">ConstraintType</span><span class="p">,</span> <span class="n">Location</span><span class="p">,</span> <span class="n">Query</span>
<span class="kn">from</span> <span class="nn">aea.skills.behaviours</span> <span class="kn">import</span> <span class="n">TickerBehaviour</span>

<span class="kn">from</span> <span class="nn">packages.fetchai.protocols.oef_search.message</span> <span class="kn">import</span> <span class="n">OefSearchMessage</span>
<span class="kn">from</span> <span class="nn">packages.fetchai.skills.my_search.dialogues</span> <span class="kn">import</span> <span class="n">OefSearchDialogues</span>

<span class="n">DEFAULT_LOCATION</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="mf">0.1270</span><span class="p">,</span> <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">51.5194</span><span class="p">}</span>
<span class="n">DEFAULT_SEARCH_QUERY</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;search_key&quot;</span><span class="p">:</span> <span class="s2">&quot;seller_service&quot;</span><span class="p">,</span>
    <span class="s2">&quot;search_value&quot;</span><span class="p">:</span> <span class="s2">&quot;generic_service&quot;</span><span class="p">,</span>
    <span class="s2">&quot;constraint_type&quot;</span><span class="p">:</span> <span class="s2">&quot;==&quot;</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">DEFAULT_SEARCH_RADIUS</span> <span class="o">=</span> <span class="mf">5.0</span>


<span class="k">class</span> <span class="nc">MySearchBehaviour</span><span class="p">(</span><span class="n">TickerBehaviour</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;This class provides a simple search behaviour.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialize the search behaviour.&quot;&quot;&quot;</span>

        <span class="n">search_query</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;search_query&quot;</span><span class="p">,</span> <span class="n">DEFAULT_SEARCH_QUERY</span><span class="p">)</span>
        <span class="n">location</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;location&quot;</span><span class="p">,</span> <span class="n">DEFAULT_LOCATION</span><span class="p">)</span>
        <span class="n">agent_location</span> <span class="o">=</span> <span class="n">Location</span><span class="p">(</span><span class="n">latitude</span><span class="o">=</span><span class="n">location</span><span class="p">[</span><span class="s2">&quot;latitude&quot;</span><span class="p">],</span> <span class="n">longitude</span><span class="o">=</span><span class="n">location</span><span class="p">[</span><span class="s2">&quot;longitude&quot;</span><span class="p">])</span>
        <span class="n">radius</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;search_radius&quot;</span><span class="p">,</span> <span class="n">DEFAULT_SEARCH_RADIUS</span><span class="p">)</span>

        <span class="n">close_to_my_service</span> <span class="o">=</span> <span class="n">Constraint</span><span class="p">(</span>
            <span class="s2">&quot;location&quot;</span><span class="p">,</span> <span class="n">ConstraintType</span><span class="p">(</span><span class="s2">&quot;distance&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">agent_location</span><span class="p">,</span> <span class="n">radius</span><span class="p">))</span>
        <span class="p">)</span>
        <span class="n">service_key_filter</span> <span class="o">=</span> <span class="n">Constraint</span><span class="p">(</span>
            <span class="n">search_query</span><span class="p">[</span><span class="s2">&quot;search_key&quot;</span><span class="p">],</span>
            <span class="n">ConstraintType</span><span class="p">(</span>
                <span class="n">search_query</span><span class="p">[</span><span class="s2">&quot;constraint_type&quot;</span><span class="p">],</span> <span class="n">search_query</span><span class="p">[</span><span class="s2">&quot;search_value&quot;</span><span class="p">],</span>
            <span class="p">),</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">query</span> <span class="o">=</span> <span class="n">Query</span><span class="p">([</span><span class="n">close_to_my_service</span><span class="p">,</span> <span class="n">service_key_filter</span><span class="p">])</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sent_search_count</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Implement the setup.</span>

<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;setting up MySearchBehaviour&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">act</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Implement the act.</span>

<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sent_search_count</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">oef_search_dialogues</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
            <span class="n">OefSearchDialogues</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">oef_search_dialogues</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;sending search request to OEF search node, search_count=</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">sent_search_count</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="n">search_request</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">oef_search_dialogues</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
            <span class="n">counterparty</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">search_service_address</span><span class="p">,</span>
            <span class="n">performative</span><span class="o">=</span><span class="n">OefSearchMessage</span><span class="o">.</span><span class="n">Performative</span><span class="o">.</span><span class="n">SEARCH_SERVICES</span><span class="p">,</span>
            <span class="n">query</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">outbox</span><span class="o">.</span><span class="n">put_message</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="n">search_request</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">teardown</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Implement the task teardown.</span>

<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;tearing down MySearchBehaviour&quot;</span>
        <span class="p">)</span>
</code></pre></div>
<p>Searches are proactive and, as such, well placed in a <a href="../api/skills/base#behaviour-objects"><code>Behaviour</code></a>. Specifically, we subclass the <a href="../api/skills/behaviours#tickerbehaviour-objects"><code>TickerBehaviour</code></a> as it allows us to repeatedly search at a defined tick interval.</p>
<p>We place this code in <code>my_aea/skills/my_search/behaviours.py</code>. Ensure you replace the <code>fetchai</code> author in this line <code>from packages.fetchai.skills.my_search.dialogues import OefSearchDialogues</code> with your author handle (run <code>aea init</code> to set or check the author name).</p>
<div class="admonition note">
  <p class="admonition-title">Note</p>
  <p> Note that the import paths to agent packages, for example <code>packages.fetchai.skills.my_search.dialogues</code> above, are not actual paths. Package files always reside in your AEA's folder, either under a specific package directory (e.g. connection, protocol, skill) if the package is custom built, or under <code>vendor</code> if it is pulled from the registry. These paths are virtual and created automatically when an AEA is run. See <a href="../package-imports"> this page </a> for more details. </p>
</div>

<h2 id="step-3-develop-a-handler">Step 3: Develop a Handler</h2>
<p>So far, we have tasked the AEA with sending search requests to the <a href="../simple-oef">SOEF search node</a>. However, we have no way of handling the responses sent to the AEA by the <a href="../simple-oef">SOEF search node</a> at the moment. The AEA would simply respond to the <a href="../simple-oef">SOEF search node</a> via the default <code>error</code> skill which sends all unrecognised envelopes back to the sender.</p>
<p>Let us now implement a <a href="../api/skills/base#handler-objects"><code>Handler</code></a> to deal with the incoming search responses.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">cast</span>

<span class="kn">from</span> <span class="nn">aea.protocols.base</span> <span class="kn">import</span> <span class="n">Message</span>
<span class="kn">from</span> <span class="nn">aea.skills.base</span> <span class="kn">import</span> <span class="n">Handler</span>

<span class="kn">from</span> <span class="nn">packages.fetchai.protocols.oef_search.message</span> <span class="kn">import</span> <span class="n">OefSearchMessage</span>
<span class="kn">from</span> <span class="nn">packages.fetchai.skills.my_search.dialogues</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">OefSearchDialogue</span><span class="p">,</span>
    <span class="n">OefSearchDialogues</span><span class="p">,</span>
<span class="p">)</span>


<span class="k">class</span> <span class="nc">MySearchHandler</span><span class="p">(</span><span class="n">Handler</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;This class provides a simple search handler.&quot;&quot;&quot;</span>

    <span class="n">SUPPORTED_PROTOCOL</span> <span class="o">=</span> <span class="n">OefSearchMessage</span><span class="o">.</span><span class="n">protocol_id</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialize the handler.&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">received_search_count</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set up the handler.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;setting up MySearchHandler&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">handle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="n">Message</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Implement the reaction to a message.</span>

<span class="sd">        :param message: the message</span>
<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">oef_search_msg</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">OefSearchMessage</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span>

        <span class="c1"># recover dialogue</span>
        <span class="n">oef_search_dialogues</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
            <span class="n">OefSearchDialogues</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">oef_search_dialogues</span>
        <span class="p">)</span>
        <span class="n">oef_search_dialogue</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
            <span class="n">Optional</span><span class="p">[</span><span class="n">OefSearchDialogue</span><span class="p">],</span> <span class="n">oef_search_dialogues</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">oef_search_msg</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">oef_search_dialogue</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_handle_unidentified_dialogue</span><span class="p">(</span><span class="n">oef_search_msg</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="c1"># handle message</span>
        <span class="k">if</span> <span class="n">oef_search_msg</span><span class="o">.</span><span class="n">performative</span> <span class="ow">is</span> <span class="n">OefSearchMessage</span><span class="o">.</span><span class="n">Performative</span><span class="o">.</span><span class="n">OEF_ERROR</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_handle_error</span><span class="p">(</span><span class="n">oef_search_msg</span><span class="p">,</span> <span class="n">oef_search_dialogue</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">oef_search_msg</span><span class="o">.</span><span class="n">performative</span> <span class="ow">is</span> <span class="n">OefSearchMessage</span><span class="o">.</span><span class="n">Performative</span><span class="o">.</span><span class="n">SEARCH_RESULT</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_handle_search</span><span class="p">(</span><span class="n">oef_search_msg</span><span class="p">,</span> <span class="n">oef_search_dialogue</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_handle_invalid</span><span class="p">(</span><span class="n">oef_search_msg</span><span class="p">,</span> <span class="n">oef_search_dialogue</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_handle_unidentified_dialogue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">oef_search_msg</span><span class="p">:</span> <span class="n">OefSearchMessage</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handle an unidentified dialogue.</span>

<span class="sd">        :param msg: the message</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;received invalid oef_search message=</span><span class="si">{}</span><span class="s2">, unidentified dialogue.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">oef_search_msg</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_handle_error</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">oef_search_msg</span><span class="p">:</span> <span class="n">OefSearchMessage</span><span class="p">,</span> <span class="n">oef_search_dialogue</span><span class="p">:</span> <span class="n">OefSearchDialogue</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handle an oef search message.</span>

<span class="sd">        :param oef_search_msg: the oef search message</span>
<span class="sd">        :param oef_search_dialogue: the dialogue</span>
<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;received oef_search error message=</span><span class="si">{}</span><span class="s2"> in dialogue=</span><span class="si">{}</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">oef_search_msg</span><span class="p">,</span> <span class="n">oef_search_dialogue</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_handle_search</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">oef_search_msg</span><span class="p">:</span> <span class="n">OefSearchMessage</span><span class="p">,</span> <span class="n">oef_search_dialogue</span><span class="p">:</span> <span class="n">OefSearchDialogue</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handle the search response.</span>

<span class="sd">        :param agents: the agents returned by the search</span>
<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">received_search_count</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">nb_agents_found</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">oef_search_msg</span><span class="o">.</span><span class="n">agents</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;found number of agents=</span><span class="si">{}</span><span class="s2">, received search count=</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">nb_agents_found</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">received_search_count</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;number of search requests sent=</span><span class="si">{}</span><span class="s2"> vs. number of search responses received=</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">behaviours</span><span class="o">.</span><span class="n">my_search_behaviour</span><span class="o">.</span><span class="n">sent_search_count</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">received_search_count</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_handle_invalid</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">oef_search_msg</span><span class="p">:</span> <span class="n">OefSearchMessage</span><span class="p">,</span> <span class="n">oef_search_dialogue</span><span class="p">:</span> <span class="n">OefSearchDialogue</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handle an oef search message.</span>

<span class="sd">        :param oef_search_msg: the oef search message</span>
<span class="sd">        :param oef_search_dialogue: the dialogue</span>
<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;cannot handle oef_search message of performative=</span><span class="si">{}</span><span class="s2"> in dialogue=</span><span class="si">{}</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">oef_search_msg</span><span class="o">.</span><span class="n">performative</span><span class="p">,</span> <span class="n">oef_search_dialogue</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">teardown</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Teardown the handler.</span>

<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;tearing down MySearchHandler&quot;</span>
        <span class="p">)</span>
</code></pre></div>
<p>We create a handler which is registered for the <code>oef_search</code> protocol. Whenever it receives a search result, we log the number of agents returned in the search - the agents matching the search query - and update the counter of received searches.</p>
<p>We also implement a trivial check on the difference between the amount of search requests sent and responses received.</p>
<p>Note, how the handler simply reacts to incoming events (i.e. messages). It could initiate further actions, however, they are still reactions to the upstream search event.</p>
<p>Also note, how we have access to other objects in the skill via <code>self.context</code>, the <a href="../api/skills/base#skillcontext-objects"><code>SkillContext</code></a>.</p>
<p>We place this code in <code>my_aea/skills/my_search/handlers.py</code>. Ensure you replace the <code>fetchai</code> author in this line <code>from packages.fetchai.skills.my_search.dialogues import (</code> with your author handle (run <code>aea init</code> to set or check the author name).</p>
<h2 id="step-4-add-dialogues-model">Step 4: Add dialogues model</h2>
<p>We have implemented a behaviour and a handler. We now implement a <a href="../api/skills/base#model-objects"><code>Model</code></a>, in particular we implement the <a href="../api/protocols/dialogue/base#dialogue-objects"><code>Dialogue</code></a> and <a href="../api/protocols/dialogue/base#dialogues-objects"><code>Dialogues</code></a> classes. These ensure that the message flow satisfies the <code>fetchai/oef_search:1.0.0</code> protocol and keep track of the individual messages being sent and received.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">aea.protocols.base</span> <span class="kn">import</span> <span class="n">Message</span>
<span class="kn">from</span> <span class="nn">aea.protocols.dialogue.base</span> <span class="kn">import</span> <span class="n">Dialogue</span> <span class="k">as</span> <span class="n">BaseDialogue</span>
<span class="kn">from</span> <span class="nn">aea.skills.base</span> <span class="kn">import</span> <span class="n">Address</span><span class="p">,</span> <span class="n">Model</span>

<span class="kn">from</span> <span class="nn">packages.fetchai.protocols.oef_search.dialogues</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">OefSearchDialogue</span> <span class="k">as</span> <span class="n">BaseOefSearchDialogue</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">packages.fetchai.protocols.oef_search.dialogues</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">OefSearchDialogues</span> <span class="k">as</span> <span class="n">BaseOefSearchDialogues</span><span class="p">,</span>
<span class="p">)</span>


<span class="n">OefSearchDialogue</span> <span class="o">=</span> <span class="n">BaseOefSearchDialogue</span>


<span class="k">class</span> <span class="nc">OefSearchDialogues</span><span class="p">(</span><span class="n">Model</span><span class="p">,</span> <span class="n">BaseOefSearchDialogues</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;This class keeps track of all oef_search dialogues.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize dialogues.</span>

<span class="sd">        :param agent_address: the address of the agent for whom dialogues are maintained</span>
<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Model</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">role_from_first_message</span><span class="p">(</span>  <span class="c1"># pylint: disable=unused-argument</span>
            <span class="n">message</span><span class="p">:</span> <span class="n">Message</span><span class="p">,</span> <span class="n">receiver_address</span><span class="p">:</span> <span class="n">Address</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseDialogue</span><span class="o">.</span><span class="n">Role</span><span class="p">:</span>
            <span class="sd">&quot;&quot;&quot;Infer the role of the agent from an incoming/outgoing first message</span>

<span class="sd">            :param message: an incoming/outgoing first message</span>
<span class="sd">            :param receiver_address: the address of the receiving agent</span>
<span class="sd">            :return: The role of the agent</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">return</span> <span class="n">BaseOefSearchDialogue</span><span class="o">.</span><span class="n">Role</span><span class="o">.</span><span class="n">AGENT</span>

        <span class="n">BaseOefSearchDialogues</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">self_address</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">skill_id</span><span class="p">),</span>
            <span class="n">role_from_first_message</span><span class="o">=</span><span class="n">role_from_first_message</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
<p>We add this code in the file <code>my_aea/skills/my_search/my_model.py</code>, replacing its original content. We then rename <code>my_aea/skills/my_search/my_model.py</code> to <code>my_aea/skills/my_search/dialogues.py</code>.</p>
<h2 id="step-5-create-the-configuration-file">Step 5: Create the configuration file</h2>
<p>Based on our skill components above, we create the following configuration file.</p>
<div class="highlight"><pre><span></span><code><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_search</span><span class="w"></span>
<span class="nt">author</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fetchai</span><span class="w"></span>
<span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.1.0</span><span class="w"></span>
<span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">skill</span><span class="w"></span>
<span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">A simple search skill utilising the SOEF search node.</span><span class="w"></span>
<span class="nt">license</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Apache-2.0</span><span class="w"></span>
<span class="nt">aea_version</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;&gt;=1.0.0,</span><span class="nv"> </span><span class="s">&lt;2.0.0&#39;</span><span class="w"></span>
<span class="nt">fingerprint</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{}</span><span class="w"></span>
<span class="nt">fingerprint_ignore_patterns</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span><span class="w"></span>
<span class="nt">connections</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span><span class="w"></span>
<span class="nt">contracts</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span><span class="w"></span>
<span class="nt">protocols</span><span class="p">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fetchai/oef_search:1.0.0</span><span class="w"></span>
<span class="nt">skills</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span><span class="w"></span>
<span class="nt">behaviours</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">my_search_behaviour</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">args</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">location</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">latitude</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">51.5194</span><span class="w"></span>
<span class="w">        </span><span class="nt">longitude</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.127</span><span class="w"></span>
<span class="w">      </span><span class="nt">search_query</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">constraint_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">==</span><span class="w"></span>
<span class="w">        </span><span class="nt">search_key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">seller_service</span><span class="w"></span>
<span class="w">        </span><span class="nt">search_value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">generic_service</span><span class="w"></span>
<span class="w">      </span><span class="nt">search_radius</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5.0</span><span class="w"></span>
<span class="w">      </span><span class="nt">tick_interval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span><span class="w"></span>
<span class="w">    </span><span class="nt">class_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MySearchBehaviour</span><span class="w"></span>
<span class="nt">handlers</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">my_search_handler</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">args</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{}</span><span class="w"></span>
<span class="w">    </span><span class="nt">class_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MySearchHandler</span><span class="w"></span>
<span class="nt">models</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">oef_search_dialogues</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">args</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{}</span><span class="w"></span>
<span class="w">    </span><span class="nt">class_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">OefSearchDialogues</span><span class="w"></span>
<span class="nt">dependencies</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">aea-ledger-fetchai</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;2.0.0,&gt;=1.0.0</span><span class="w"></span>
<span class="nt">is_abstract</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"></span>
</code></pre></div>
<p>Ensure, you replace the author field with your author name! (Run <code>aea init</code> to set or check the author name.)</p>
<p>Importantly, the keys <code>my_search_behaviour</code> and <code>my_search_handler</code> are used in the above handler to access these skill components at runtime via the context. We also set the <code>tick_interval</code> of the <code>TickerBehaviour</code> to <code>5</code> seconds.</p>
<p>We place this code in <code>my_aea/skills/my_search/skill.yaml</code>.</p>
<p>Similarly, we replace <code>my_aea/skills/my_search/__init__.py</code> as follows:</p>
<p><div class="highlight"><pre><span></span><code><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="c1"># ------------------------------------------------------------------------------</span>
<span class="c1">#</span>
<span class="c1">#   Copyright 2018-2019 Fetch.AI Limited</span>
<span class="c1">#</span>
<span class="c1">#   Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
<span class="c1">#   you may not use this file except in compliance with the License.</span>
<span class="c1">#   You may obtain a copy of the License at</span>
<span class="c1">#</span>
<span class="c1">#       http://www.apache.org/licenses/LICENSE-2.0</span>
<span class="c1">#</span>
<span class="c1">#   Unless required by applicable law or agreed to in writing, software</span>
<span class="c1">#   distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<span class="c1">#   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<span class="c1">#   See the License for the specific language governing permissions and</span>
<span class="c1">#   limitations under the License.</span>
<span class="c1">#</span>
<span class="c1"># ------------------------------------------------------------------------------</span>

<span class="sd">&quot;&quot;&quot;This module contains the implementation of the error skill.&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">aea.configurations.base</span> <span class="kn">import</span> <span class="n">PublicId</span>


<span class="n">PUBLIC_ID</span> <span class="o">=</span> <span class="n">PublicId</span><span class="o">.</span><span class="n">from_str</span><span class="p">(</span><span class="s2">&quot;fetchai/my_search:0.1.0&quot;</span><span class="p">)</span>
</code></pre></div>
Again, ensure the author field matches your own.</p>
<h2 id="step-6-update-fingerprint">Step 6: Update fingerprint</h2>
<p>To run an AEA with new or modified code, you need to update the fingerprint of the new/modified components. In this case, we need to fingerprint our skill:
<div class="highlight"><pre><span></span><code>aea fingerprint skill fetchai/my_search:0.1.0
</code></pre></div>
Ensure, you use the correct author name to reference your skill (here we use <code>fetchai</code> as the author.)</p>
<h2 id="step-7-add-the-oef-protocol-and-connection">Step 7: Add the OEF protocol and connection</h2>
<p>Our AEA does not have the OEF protocol yet so let's add it.
<div class="highlight"><pre><span></span><code>aea add protocol fetchai/oef_search:1.0.0
</code></pre></div></p>
<p>This adds the protocol to our AEA and makes it available on the path <code>packages.fetchai.protocols...</code>.</p>
<p>At this point we need to add the SOEF and P2P connections to allow the AEA to communicate with the SOEF node and other AEAs, install the AEA's dependencies, and configure the AEA:
<div class="highlight"><pre><span></span><code>aea add connection fetchai/soef:0.26.0
aea add connection fetchai/p2p_libp2p:0.25.0
aea install
aea build
aea config <span class="nb">set</span> agent.default_connection fetchai/p2p_libp2p:0.25.0
aea config <span class="nb">set</span> --type dict agent.default_routing <span class="se">\</span>
<span class="s1">&#39;{</span>
<span class="s1">  &quot;fetchai/oef_search:1.0.0&quot;: &quot;fetchai/soef:0.26.0&quot;</span>
<span class="s1">}&#39;</span>
</code></pre></div></p>
<p>The last command will ensure that search requests are processed by the correct connection.</p>
<h2 id="step-8-run-a-service-provider-aea">Step 8: Run a service provider AEA</h2>
<p>In order for this AEA to find another AEA when searching, the second AEA (let's call it the service provider AEA) must exist and have been registered with the SOEF. </p>
<p>From a different terminal window, we fetch a finished service provider AEA and install its Python dependencies:
<div class="highlight"><pre><span></span><code>aea fetch fetchai/simple_service_registration:0.31.0 <span class="o">&amp;&amp;</span> <span class="nb">cd</span> simple_service_registration <span class="o">&amp;&amp;</span> aea install <span class="o">&amp;&amp;</span> aea build
</code></pre></div></p>
<p>This AEA will simply register a location service on the <a href="../simple-oef">SOEF search node</a> so we can search for it.</p>
<p>We first create the private key for the service provider AEA based on the network you want to transact. To generate and add a private-public key pair for Fetch.ai <code>StargateWorld</code> use:
<div class="highlight"><pre><span></span><code>aea generate-key fetchai
aea add-key fetchai fetchai_private_key.txt
</code></pre></div></p>
<p>Next, create a private key used to secure the AEA's communications:
<div class="highlight"><pre><span></span><code>aea generate-key fetchai fetchai_connection_private_key.txt
aea add-key fetchai fetchai_connection_private_key.txt --connection
</code></pre></div></p>
<p>Finally, certify the key for use by the connections that request that:
<div class="highlight"><pre><span></span><code>aea issue-certificates
</code></pre></div></p>
<p>Then we run the AEA:
<div class="highlight"><pre><span></span><code>aea run
</code></pre></div></p>
<p>Once you see a message of the form <code>To join its network use multiaddr: ['SOME_ADDRESS']</code> take note of the address. (Alternatively, use <code>aea get-multiaddress fetchai -c -i fetchai/p2p_libp2p:0.25.0 -u public_uri</code> to retrieve the address.) This is the entry peer address for the local <a href="../acn">agent communication network</a> created by the <code>simple_service_registration</code> (service provider) AEA.</p>
<details><summary>Click here to see full code and guide for this AEA</summary>
<p>

We use a <a href="../api/skills/behaviours#tickerbehaviour-objects"><code>TickerBehaviour</code></a> to update the service registration at regular intervals. The following code is placed in <code>behaviours.py</code>.

<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">cast</span>

<span class="kn">from</span> <span class="nn">aea.helpers.search.models</span> <span class="kn">import</span> <span class="n">Description</span>
<span class="kn">from</span> <span class="nn">aea.skills.behaviours</span> <span class="kn">import</span> <span class="n">TickerBehaviour</span>

<span class="kn">from</span> <span class="nn">packages.fetchai.protocols.oef_search.message</span> <span class="kn">import</span> <span class="n">OefSearchMessage</span>
<span class="kn">from</span> <span class="nn">packages.fetchai.skills.simple_service_registration.dialogues</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">OefSearchDialogues</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">packages.fetchai.skills.simple_service_registration.strategy</span> <span class="kn">import</span> <span class="n">Strategy</span>


<span class="n">DEFAULT_MAX_SOEF_REGISTRATION_RETRIES</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">DEFAULT_SERVICES_INTERVAL</span> <span class="o">=</span> <span class="mf">30.0</span>


<span class="k">class</span> <span class="nc">ServiceRegistrationBehaviour</span><span class="p">(</span><span class="n">TickerBehaviour</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;This class implements a behaviour.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialise the behaviour.&quot;&quot;&quot;</span>
        <span class="n">services_interval</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span>
            <span class="s2">&quot;services_interval&quot;</span><span class="p">,</span> <span class="n">DEFAULT_SERVICES_INTERVAL</span>
        <span class="p">)</span>  <span class="c1"># type: int</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_max_soef_registration_retries</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span>
            <span class="s2">&quot;max_soef_registration_retries&quot;</span><span class="p">,</span> <span class="n">DEFAULT_MAX_SOEF_REGISTRATION_RETRIES</span>
        <span class="p">)</span>  <span class="c1"># type: int</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">tick_interval</span><span class="o">=</span><span class="n">services_interval</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">failed_registration_msg</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: Optional[OefSearchMessage]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_nb_retries</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Implement the setup.</span>

<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_register_agent</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">act</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Implement the act.</span>

<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_retry_failed_registration</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">teardown</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Implement the task teardown.</span>

<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_unregister_service</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_unregister_agent</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_retry_failed_registration</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retry a failed registration.</span>

<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">failed_registration_msg</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_nb_retries</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_nb_retries</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_soef_registration_retries</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">is_active</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="k">return</span>

            <span class="n">oef_search_dialogues</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
                <span class="n">OefSearchDialogues</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">oef_search_dialogues</span>
            <span class="p">)</span>
            <span class="n">oef_search_msg</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">oef_search_dialogues</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
                <span class="n">counterparty</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">failed_registration_msg</span><span class="o">.</span><span class="n">to</span><span class="p">,</span>
                <span class="n">performative</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">failed_registration_msg</span><span class="o">.</span><span class="n">performative</span><span class="p">,</span>
                <span class="n">service_description</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">failed_registration_msg</span><span class="o">.</span><span class="n">service_description</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">outbox</span><span class="o">.</span><span class="n">put_message</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="n">oef_search_msg</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Retrying registration on SOEF. Retry </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_nb_retries</span><span class="si">}</span><span class="s2"> out of </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_max_soef_registration_retries</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">failed_registration_msg</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">_register</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">description</span><span class="p">:</span> <span class="n">Description</span><span class="p">,</span> <span class="n">logger_msg</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Register something on the SOEF.</span>

<span class="sd">        :param description: the description of what is being registered</span>
<span class="sd">        :param logger_msg: the logger message to print after the registration</span>

<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">oef_search_dialogues</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
            <span class="n">OefSearchDialogues</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">oef_search_dialogues</span>
        <span class="p">)</span>
        <span class="n">oef_search_msg</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">oef_search_dialogues</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
            <span class="n">counterparty</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">search_service_address</span><span class="p">,</span>
            <span class="n">performative</span><span class="o">=</span><span class="n">OefSearchMessage</span><span class="o">.</span><span class="n">Performative</span><span class="o">.</span><span class="n">REGISTER_SERVICE</span><span class="p">,</span>
            <span class="n">service_description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">outbox</span><span class="o">.</span><span class="n">put_message</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="n">oef_search_msg</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">logger_msg</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_register_agent</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Register the agent&#39;s location.</span>

<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">strategy</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">Strategy</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">strategy</span><span class="p">)</span>
        <span class="n">description</span> <span class="o">=</span> <span class="n">strategy</span><span class="o">.</span><span class="n">get_location_description</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_register</span><span class="p">(</span><span class="n">description</span><span class="p">,</span> <span class="s2">&quot;registering agent on SOEF.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">register_service</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Register the agent&#39;s service.</span>

<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">strategy</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">Strategy</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">strategy</span><span class="p">)</span>
        <span class="n">description</span> <span class="o">=</span> <span class="n">strategy</span><span class="o">.</span><span class="n">get_register_service_description</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_register</span><span class="p">(</span><span class="n">description</span><span class="p">,</span> <span class="s2">&quot;registering agent&#39;s service on the SOEF.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">register_genus</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Register the agent&#39;s personality genus.</span>

<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">strategy</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">Strategy</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">strategy</span><span class="p">)</span>
        <span class="n">description</span> <span class="o">=</span> <span class="n">strategy</span><span class="o">.</span><span class="n">get_register_personality_description</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_register</span><span class="p">(</span>
            <span class="n">description</span><span class="p">,</span> <span class="s2">&quot;registering agent&#39;s personality genus on the SOEF.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">register_classification</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Register the agent&#39;s personality classification.</span>

<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">strategy</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">Strategy</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">strategy</span><span class="p">)</span>
        <span class="n">description</span> <span class="o">=</span> <span class="n">strategy</span><span class="o">.</span><span class="n">get_register_classification_description</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_register</span><span class="p">(</span>
            <span class="n">description</span><span class="p">,</span> <span class="s2">&quot;registering agent&#39;s personality classification on the SOEF.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_unregister_service</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Unregister service from the SOEF.</span>

<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">strategy</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">Strategy</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">strategy</span><span class="p">)</span>
        <span class="n">description</span> <span class="o">=</span> <span class="n">strategy</span><span class="o">.</span><span class="n">get_unregister_service_description</span><span class="p">()</span>
        <span class="n">oef_search_dialogues</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
            <span class="n">OefSearchDialogues</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">oef_search_dialogues</span>
        <span class="p">)</span>
        <span class="n">oef_search_msg</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">oef_search_dialogues</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
            <span class="n">counterparty</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">search_service_address</span><span class="p">,</span>
            <span class="n">performative</span><span class="o">=</span><span class="n">OefSearchMessage</span><span class="o">.</span><span class="n">Performative</span><span class="o">.</span><span class="n">UNREGISTER_SERVICE</span><span class="p">,</span>
            <span class="n">service_description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">outbox</span><span class="o">.</span><span class="n">put_message</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="n">oef_search_msg</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;unregistering service from SOEF.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_unregister_agent</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Unregister agent from the SOEF.</span>

<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">strategy</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">Strategy</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">strategy</span><span class="p">)</span>
        <span class="n">description</span> <span class="o">=</span> <span class="n">strategy</span><span class="o">.</span><span class="n">get_location_description</span><span class="p">()</span>
        <span class="n">oef_search_dialogues</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
            <span class="n">OefSearchDialogues</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">oef_search_dialogues</span>
        <span class="p">)</span>
        <span class="n">oef_search_msg</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">oef_search_dialogues</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
            <span class="n">counterparty</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">search_service_address</span><span class="p">,</span>
            <span class="n">performative</span><span class="o">=</span><span class="n">OefSearchMessage</span><span class="o">.</span><span class="n">Performative</span><span class="o">.</span><span class="n">UNREGISTER_SERVICE</span><span class="p">,</span>
            <span class="n">service_description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">outbox</span><span class="o">.</span><span class="n">put_message</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="n">oef_search_msg</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;unregistering agent from SOEF.&quot;</span><span class="p">)</span>
</code></pre></div>

We create a <a href="../api/skills/base#model-objects"><code>Model</code></a> type strategy class and place it in <code>strategy.py</code>. We use a generic data model to register the service. As part of the registration we register a location and a key pair describing our service.

<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span>

<span class="kn">from</span> <span class="nn">aea.exceptions</span> <span class="kn">import</span> <span class="n">enforce</span>
<span class="kn">from</span> <span class="nn">aea.helpers.search.generic</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">AGENT_LOCATION_MODEL</span><span class="p">,</span>
    <span class="n">AGENT_PERSONALITY_MODEL</span><span class="p">,</span>
    <span class="n">AGENT_REMOVE_SERVICE_MODEL</span><span class="p">,</span>
    <span class="n">AGENT_SET_SERVICE_MODEL</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">aea.helpers.search.models</span> <span class="kn">import</span> <span class="n">Description</span><span class="p">,</span> <span class="n">Location</span>
<span class="kn">from</span> <span class="nn">aea.skills.base</span> <span class="kn">import</span> <span class="n">Model</span>


<span class="n">DEFAULT_LOCATION</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="mf">0.1270</span><span class="p">,</span> <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="mf">51.5194</span><span class="p">}</span>
<span class="n">DEFAULT_SERVICE_DATA</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;seller_service&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;generic_service&quot;</span><span class="p">}</span>
<span class="n">DEFAULT_PERSONALITY_DATA</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;piece&quot;</span><span class="p">:</span> <span class="s2">&quot;genus&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;data&quot;</span><span class="p">}</span>
<span class="n">DEFAULT_CLASSIFICATION</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;piece&quot;</span><span class="p">:</span> <span class="s2">&quot;classification&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;seller&quot;</span><span class="p">}</span>


<span class="k">class</span> <span class="nc">Strategy</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;This class defines a strategy for the agent.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize the strategy of the agent.</span>

<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">location</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;location&quot;</span><span class="p">,</span> <span class="n">DEFAULT_LOCATION</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_agent_location</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="n">Location</span><span class="p">(</span>
                <span class="n">latitude</span><span class="o">=</span><span class="n">location</span><span class="p">[</span><span class="s2">&quot;latitude&quot;</span><span class="p">],</span> <span class="n">longitude</span><span class="o">=</span><span class="n">location</span><span class="p">[</span><span class="s2">&quot;longitude&quot;</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_personality_data</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span>
            <span class="s2">&quot;personality_data&quot;</span><span class="p">,</span> <span class="n">DEFAULT_PERSONALITY_DATA</span>
        <span class="p">)</span>
        <span class="n">enforce</span><span class="p">(</span>
            <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_set_personality_data</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
            <span class="ow">and</span> <span class="s2">&quot;piece&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_personality_data</span>
            <span class="ow">and</span> <span class="s2">&quot;value&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_personality_data</span><span class="p">,</span>
            <span class="s2">&quot;personality_data must contain keys `key` and `value`&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_classification</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;classification&quot;</span><span class="p">,</span> <span class="n">DEFAULT_CLASSIFICATION</span><span class="p">)</span>
        <span class="n">enforce</span><span class="p">(</span>
            <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_set_classification</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
            <span class="ow">and</span> <span class="s2">&quot;piece&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_classification</span>
            <span class="ow">and</span> <span class="s2">&quot;value&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_classification</span><span class="p">,</span>
            <span class="s2">&quot;classification must contain keys `key` and `value`&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_service_data</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;service_data&quot;</span><span class="p">,</span> <span class="n">DEFAULT_SERVICE_DATA</span><span class="p">)</span>
        <span class="n">enforce</span><span class="p">(</span>
            <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_set_service_data</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
            <span class="ow">and</span> <span class="s2">&quot;key&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_service_data</span>
            <span class="ow">and</span> <span class="s2">&quot;value&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_service_data</span><span class="p">,</span>
            <span class="s2">&quot;service_data must contain keys `key` and `value`&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_remove_service_data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_service_data</span><span class="p">[</span><span class="s2">&quot;key&quot;</span><span class="p">]}</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_location_description</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Description</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the location description.</span>

<span class="sd">        :return: a description of the agent&#39;s location</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">description</span> <span class="o">=</span> <span class="n">Description</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_agent_location</span><span class="p">,</span> <span class="n">data_model</span><span class="o">=</span><span class="n">AGENT_LOCATION_MODEL</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">description</span>

    <span class="k">def</span> <span class="nf">get_register_service_description</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Description</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the register service description.</span>

<span class="sd">        :return: a description of the offered services</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">description</span> <span class="o">=</span> <span class="n">Description</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_set_service_data</span><span class="p">,</span> <span class="n">data_model</span><span class="o">=</span><span class="n">AGENT_SET_SERVICE_MODEL</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">description</span>

    <span class="k">def</span> <span class="nf">get_register_personality_description</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Description</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the register personality description.</span>

<span class="sd">        :return: a description of the personality</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">description</span> <span class="o">=</span> <span class="n">Description</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_set_personality_data</span><span class="p">,</span> <span class="n">data_model</span><span class="o">=</span><span class="n">AGENT_PERSONALITY_MODEL</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">description</span>

    <span class="k">def</span> <span class="nf">get_register_classification_description</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Description</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the register classification description.</span>

<span class="sd">        :return: a description of the classification</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">description</span> <span class="o">=</span> <span class="n">Description</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_set_classification</span><span class="p">,</span> <span class="n">data_model</span><span class="o">=</span><span class="n">AGENT_PERSONALITY_MODEL</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">description</span>

    <span class="k">def</span> <span class="nf">get_unregister_service_description</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Description</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the unregister service description.</span>

<span class="sd">        :return: a description of the to be removed service</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">description</span> <span class="o">=</span> <span class="n">Description</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_remove_service_data</span><span class="p">,</span> <span class="n">data_model</span><span class="o">=</span><span class="n">AGENT_REMOVE_SERVICE_MODEL</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">description</span>
</code></pre></div>

We create a <a href="../api/skills/base#model-objects"><code>Model</code></a> type dialogue class and place it in <code>dialogues.py</code>. These classes ensure that the message flow satisfies the <code>fetchai/oef_search:1.0.0</code> protocol and keep track of the individual messages being sent and received.

<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span>

<span class="kn">from</span> <span class="nn">aea.protocols.base</span> <span class="kn">import</span> <span class="n">Address</span><span class="p">,</span> <span class="n">Message</span>
<span class="kn">from</span> <span class="nn">aea.protocols.dialogue.base</span> <span class="kn">import</span> <span class="n">Dialogue</span> <span class="k">as</span> <span class="n">BaseDialogue</span>
<span class="kn">from</span> <span class="nn">aea.skills.base</span> <span class="kn">import</span> <span class="n">Model</span>

<span class="kn">from</span> <span class="nn">packages.fetchai.protocols.oef_search.dialogues</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">OefSearchDialogue</span> <span class="k">as</span> <span class="n">BaseOefSearchDialogue</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">packages.fetchai.protocols.oef_search.dialogues</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">OefSearchDialogues</span> <span class="k">as</span> <span class="n">BaseOefSearchDialogues</span><span class="p">,</span>
<span class="p">)</span>


<span class="n">OefSearchDialogue</span> <span class="o">=</span> <span class="n">BaseOefSearchDialogue</span>


<span class="k">class</span> <span class="nc">OefSearchDialogues</span><span class="p">(</span><span class="n">Model</span><span class="p">,</span> <span class="n">BaseOefSearchDialogues</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;This class keeps track of all oef_search dialogues.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize dialogues.</span>

<span class="sd">        :param agent_address: the address of the agent for whom dialogues are maintained</span>
<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Model</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">role_from_first_message</span><span class="p">(</span>  <span class="c1"># pylint: disable=unused-argument</span>
            <span class="n">message</span><span class="p">:</span> <span class="n">Message</span><span class="p">,</span> <span class="n">receiver_address</span><span class="p">:</span> <span class="n">Address</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseDialogue</span><span class="o">.</span><span class="n">Role</span><span class="p">:</span>
            <span class="sd">&quot;&quot;&quot;Infer the role of the agent from an incoming/outgoing first message</span>

<span class="sd">            :param message: an incoming/outgoing first message</span>
<span class="sd">            :param receiver_address: the address of the receiving agent</span>
<span class="sd">            :return: The role of the agent</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">return</span> <span class="n">BaseOefSearchDialogue</span><span class="o">.</span><span class="n">Role</span><span class="o">.</span><span class="n">AGENT</span>

        <span class="n">BaseOefSearchDialogues</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">self_address</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">skill_id</span><span class="p">),</span>
            <span class="n">role_from_first_message</span><span class="o">=</span><span class="n">role_from_first_message</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>

Finally, we have a handler, placed in <code>handlers.py</code>. The handler deals with handling any error messages which might occur during service registration:

<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">cast</span>

<span class="kn">from</span> <span class="nn">aea.configurations.base</span> <span class="kn">import</span> <span class="n">PublicId</span>
<span class="kn">from</span> <span class="nn">aea.protocols.base</span> <span class="kn">import</span> <span class="n">Message</span>
<span class="kn">from</span> <span class="nn">aea.skills.base</span> <span class="kn">import</span> <span class="n">Handler</span>

<span class="kn">from</span> <span class="nn">packages.fetchai.protocols.oef_search.message</span> <span class="kn">import</span> <span class="n">OefSearchMessage</span>
<span class="kn">from</span> <span class="nn">packages.fetchai.skills.simple_service_registration.behaviours</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">ServiceRegistrationBehaviour</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">packages.fetchai.skills.simple_service_registration.dialogues</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">OefSearchDialogue</span><span class="p">,</span>
    <span class="n">OefSearchDialogues</span><span class="p">,</span>
<span class="p">)</span>


<span class="k">class</span> <span class="nc">OefSearchHandler</span><span class="p">(</span><span class="n">Handler</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;This class implements an OEF search handler.&quot;&quot;&quot;</span>

    <span class="n">SUPPORTED_PROTOCOL</span> <span class="o">=</span> <span class="n">OefSearchMessage</span><span class="o">.</span><span class="n">protocol_id</span>  <span class="c1"># type: Optional[PublicId]</span>

    <span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Call to setup the handler.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">handle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="n">Message</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Implement the reaction to a message.</span>

<span class="sd">        :param message: the message</span>
<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">oef_search_msg</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">OefSearchMessage</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span>

        <span class="c1"># recover dialogue</span>
        <span class="n">oef_search_dialogues</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
            <span class="n">OefSearchDialogues</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">oef_search_dialogues</span>
        <span class="p">)</span>
        <span class="n">oef_search_dialogue</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
            <span class="n">Optional</span><span class="p">[</span><span class="n">OefSearchDialogue</span><span class="p">],</span> <span class="n">oef_search_dialogues</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">oef_search_msg</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">oef_search_dialogue</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_handle_unidentified_dialogue</span><span class="p">(</span><span class="n">oef_search_msg</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="c1"># handle message</span>
        <span class="k">if</span> <span class="n">oef_search_msg</span><span class="o">.</span><span class="n">performative</span> <span class="o">==</span> <span class="n">OefSearchMessage</span><span class="o">.</span><span class="n">Performative</span><span class="o">.</span><span class="n">SUCCESS</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_handle_success</span><span class="p">(</span><span class="n">oef_search_msg</span><span class="p">,</span> <span class="n">oef_search_dialogue</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">oef_search_msg</span><span class="o">.</span><span class="n">performative</span> <span class="o">==</span> <span class="n">OefSearchMessage</span><span class="o">.</span><span class="n">Performative</span><span class="o">.</span><span class="n">OEF_ERROR</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_handle_error</span><span class="p">(</span><span class="n">oef_search_msg</span><span class="p">,</span> <span class="n">oef_search_dialogue</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_handle_invalid</span><span class="p">(</span><span class="n">oef_search_msg</span><span class="p">,</span> <span class="n">oef_search_dialogue</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">teardown</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Implement the handler teardown.</span>

<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">_handle_unidentified_dialogue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">oef_search_msg</span><span class="p">:</span> <span class="n">OefSearchMessage</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handle an unidentified dialogue.</span>

<span class="sd">        :param msg: the message</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;received invalid oef_search message=</span><span class="si">{}</span><span class="s2">, unidentified dialogue.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">oef_search_msg</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_handle_success</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">oef_search_success_msg</span><span class="p">:</span> <span class="n">OefSearchMessage</span><span class="p">,</span>
        <span class="n">oef_search_dialogue</span><span class="p">:</span> <span class="n">OefSearchDialogue</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handle an oef search message.</span>

<span class="sd">        :param oef_search_success_msg: the oef search message</span>
<span class="sd">        :param oef_search_dialogue: the dialogue</span>
<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;received oef_search success message=</span><span class="si">{}</span><span class="s2"> in dialogue=</span><span class="si">{}</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">oef_search_success_msg</span><span class="p">,</span> <span class="n">oef_search_dialogue</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="n">target_message</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
            <span class="n">OefSearchMessage</span><span class="p">,</span>
            <span class="n">oef_search_dialogue</span><span class="o">.</span><span class="n">get_message_by_id</span><span class="p">(</span><span class="n">oef_search_success_msg</span><span class="o">.</span><span class="n">target</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">target_message</span><span class="o">.</span><span class="n">performative</span>
            <span class="o">==</span> <span class="n">OefSearchMessage</span><span class="o">.</span><span class="n">Performative</span><span class="o">.</span><span class="n">REGISTER_SERVICE</span>
        <span class="p">):</span>
            <span class="n">description</span> <span class="o">=</span> <span class="n">target_message</span><span class="o">.</span><span class="n">service_description</span>
            <span class="n">data_model_name</span> <span class="o">=</span> <span class="n">description</span><span class="o">.</span><span class="n">data_model</span><span class="o">.</span><span class="n">name</span>
            <span class="n">registration_behaviour</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
                <span class="n">ServiceRegistrationBehaviour</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">behaviours</span><span class="o">.</span><span class="n">service</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="s2">&quot;location_agent&quot;</span> <span class="ow">in</span> <span class="n">data_model_name</span><span class="p">:</span>
                <span class="n">registration_behaviour</span><span class="o">.</span><span class="n">register_service</span><span class="p">()</span>
            <span class="k">elif</span> <span class="s2">&quot;set_service_key&quot;</span> <span class="ow">in</span> <span class="n">data_model_name</span><span class="p">:</span>
                <span class="n">registration_behaviour</span><span class="o">.</span><span class="n">register_genus</span><span class="p">()</span>
            <span class="k">elif</span> <span class="p">(</span>
                <span class="s2">&quot;personality_agent&quot;</span> <span class="ow">in</span> <span class="n">data_model_name</span>
                <span class="ow">and</span> <span class="n">description</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="s2">&quot;piece&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;genus&quot;</span>
            <span class="p">):</span>
                <span class="n">registration_behaviour</span><span class="o">.</span><span class="n">register_classification</span><span class="p">()</span>
            <span class="k">elif</span> <span class="p">(</span>
                <span class="s2">&quot;personality_agent&quot;</span> <span class="ow">in</span> <span class="n">data_model_name</span>
                <span class="ow">and</span> <span class="n">description</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="s2">&quot;piece&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;classification&quot;</span>
            <span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                    <span class="s2">&quot;the agent, with its genus and classification, and its service are successfully registered on the SOEF.&quot;</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;received soef SUCCESS message as a reply to the following unexpected message: </span><span class="si">{</span><span class="n">target_message</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_handle_error</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">oef_search_error_msg</span><span class="p">:</span> <span class="n">OefSearchMessage</span><span class="p">,</span>
        <span class="n">oef_search_dialogue</span><span class="p">:</span> <span class="n">OefSearchDialogue</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handle an oef search message.</span>

<span class="sd">        :param oef_search_error_msg: the oef search message</span>
<span class="sd">        :param oef_search_dialogue: the dialogue</span>
<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;received oef_search error message=</span><span class="si">{}</span><span class="s2"> in dialogue=</span><span class="si">{}</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">oef_search_error_msg</span><span class="p">,</span> <span class="n">oef_search_dialogue</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="n">target_message</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
            <span class="n">OefSearchMessage</span><span class="p">,</span>
            <span class="n">oef_search_dialogue</span><span class="o">.</span><span class="n">get_message_by_id</span><span class="p">(</span><span class="n">oef_search_error_msg</span><span class="o">.</span><span class="n">target</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">target_message</span><span class="o">.</span><span class="n">performative</span>
            <span class="o">==</span> <span class="n">OefSearchMessage</span><span class="o">.</span><span class="n">Performative</span><span class="o">.</span><span class="n">REGISTER_SERVICE</span>
        <span class="p">):</span>
            <span class="n">registration_behaviour</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
                <span class="n">ServiceRegistrationBehaviour</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">behaviours</span><span class="o">.</span><span class="n">service</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">registration_behaviour</span><span class="o">.</span><span class="n">failed_registration_msg</span> <span class="o">=</span> <span class="n">target_message</span>

    <span class="k">def</span> <span class="nf">_handle_invalid</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">oef_search_msg</span><span class="p">:</span> <span class="n">OefSearchMessage</span><span class="p">,</span> <span class="n">oef_search_dialogue</span><span class="p">:</span> <span class="n">OefSearchDialogue</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handle an oef search message.</span>

<span class="sd">        :param oef_search_msg: the oef search message</span>
<span class="sd">        :param oef_search_dialogue: the dialogue</span>
<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;cannot handle oef_search message of performative=</span><span class="si">{}</span><span class="s2"> in dialogue=</span><span class="si">{}</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">oef_search_msg</span><span class="o">.</span><span class="n">performative</span><span class="p">,</span> <span class="n">oef_search_dialogue</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>
</code></pre></div>

The associated <code>skill.yaml</code> is:

<div class="highlight"><pre><span></span><code><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">simple_service_registration</span><span class="w"></span>
<span class="nt">author</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fetchai</span><span class="w"></span>
<span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.20.0</span><span class="w"></span>
<span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">skill</span><span class="w"></span>
<span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">The simple service registration skills is a skill to register a service.</span><span class="w"></span>
<span class="nt">license</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Apache-2.0</span><span class="w"></span>
<span class="nt">aea_version</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;&gt;=1.0.0,</span><span class="nv"> </span><span class="s">&lt;2.0.0&#39;</span><span class="w"></span>
<span class="nt">fingerprint</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">README.md</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">QmUgCcR7sDBQeeCBRKwDT7tPBTi3t4zSibyEqR3xdQUKmh</span><span class="w"></span>
<span class="w">  </span><span class="nt">__init__.py</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">QmZd48HmYDr7FMxNaVeGfWRvVtieEdEV78hd7h7roTceP2</span><span class="w"></span>
<span class="w">  </span><span class="nt">behaviours.py</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">QmQHf6QL5aBtLJ34D2tdcbjJLbzom9gaA3HWgRn3rWyigM</span><span class="w"></span>
<span class="w">  </span><span class="nt">dialogues.py</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">QmTT9dvFhWt6qvxjwBfMFDTrgEtgWbvgANYafyRg2BXwcR</span><span class="w"></span>
<span class="w">  </span><span class="nt">handlers.py</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">QmZqPt8toGbJgTT6NZBLxjkusrQCZ8GmUEwcmqZ1sd7DpG</span><span class="w"></span>
<span class="w">  </span><span class="nt">strategy.py</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">QmVXfQpk4cjDw576H2ELE12tEiN5brPkwvffvcTeMbsugA</span><span class="w"></span>
<span class="nt">fingerprint_ignore_patterns</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span><span class="w"></span>
<span class="nt">connections</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span><span class="w"></span>
<span class="nt">contracts</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span><span class="w"></span>
<span class="nt">protocols</span><span class="p">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fetchai/oef_search:1.0.0</span><span class="w"></span>
<span class="nt">skills</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span><span class="w"></span>
<span class="nt">behaviours</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">service</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">args</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">max_soef_registration_retries</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span><span class="w"></span>
<span class="w">      </span><span class="nt">services_interval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w"></span>
<span class="w">    </span><span class="nt">class_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ServiceRegistrationBehaviour</span><span class="w"></span>
<span class="nt">handlers</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">oef_search</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">args</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{}</span><span class="w"></span>
<span class="w">    </span><span class="nt">class_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">OefSearchHandler</span><span class="w"></span>
<span class="nt">models</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">oef_search_dialogues</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">args</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{}</span><span class="w"></span>
<span class="w">    </span><span class="nt">class_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">OefSearchDialogues</span><span class="w"></span>
<span class="w">  </span><span class="nt">strategy</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">args</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">classification</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">piece</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">classification</span><span class="w"></span>
<span class="w">        </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">seller</span><span class="w"></span>
<span class="w">      </span><span class="nt">location</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">latitude</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">51.5194</span><span class="w"></span>
<span class="w">        </span><span class="nt">longitude</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.127</span><span class="w"></span>
<span class="w">      </span><span class="nt">personality_data</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">piece</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">genus</span><span class="w"></span>
<span class="w">        </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data</span><span class="w"></span>
<span class="w">      </span><span class="nt">service_data</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">seller_service</span><span class="w"></span>
<span class="w">        </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">generic_service</span><span class="w"></span>
<span class="w">    </span><span class="nt">class_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Strategy</span><span class="w"></span>
<span class="nt">dependencies</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{}</span><span class="w"></span>
<span class="nt">is_abstract</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"></span>
</code></pre></div>
</p>
</details>

<h2 id="step-9-run-the-search-aea">Step 9: Run the Search AEA</h2>
<p>First, create the private key for the search AEA based on the network you want to transact. To generate and add a private-public key pair for Fetch.ai <code>StargateWorld</code> use:
<div class="highlight"><pre><span></span><code>aea generate-key fetchai
aea add-key fetchai fetchai_private_key.txt
</code></pre></div></p>
<p>Next, create a private key used to secure the AEA's communications:
<div class="highlight"><pre><span></span><code>aea generate-key fetchai fetchai_connection_private_key.txt
aea add-key fetchai fetchai_connection_private_key.txt --connection
</code></pre></div></p>
<p>Finally, certify the key for use by the connections that request that:
<div class="highlight"><pre><span></span><code>aea issue-certificates
</code></pre></div></p>
<p>Then, in the search AEA, run this command (replace <code>SOME_ADDRESS</code> with the correct value as described above):
<div class="highlight"><pre><span></span><code>aea config <span class="nb">set</span> --type dict vendor.fetchai.connections.p2p_libp2p.config <span class="se">\</span>
<span class="s1">&#39;{</span>
<span class="s1">  &quot;delegate_uri&quot;: &quot;127.0.0.1:11001&quot;,</span>
<span class="s1">  &quot;entry_peers&quot;: [&quot;/dns4/127.0.0.1/tcp/9000/p2p/16Uiu2HAm1uJpFsqSgHStJdtTBPpDme1fo8uFEvvY182D2y89jQuj&quot;],</span>
<span class="s1">  &quot;local_uri&quot;: &quot;127.0.0.1:9001&quot;,</span>
<span class="s1">  &quot;log_file&quot;: &quot;libp2p_node.log&quot;,</span>
<span class="s1">  &quot;public_uri&quot;: &quot;127.0.0.1:9001&quot;</span>
<span class="s1">}&#39;</span>
</code></pre></div>
This allows the search AEA to connect to the same local agent communication network as the service registration AEA.</p>
<p>We can then launch our AEA.</p>
<div class="highlight"><pre><span></span><code>aea run
</code></pre></div>
<p>We can see that the AEA sends search requests to the <a href="../simple-oef">SOEF search node</a> and receives search responses from the <a href="../simple-oef">SOEF search node</a>. The search response returns one or more agents (the service provider and potentially other agents which match the query).</p>
<p>We stop the AEA with <code>CTRL + C</code>.</p>
<h2 id="next-steps">Next steps</h2>
<h3 id="recommended">Recommended</h3>
<p>We recommend you continue with the next step in the 'Getting Started' series:</p>
<ul>
<li><a href="../core-components-2">Core components (Part 2)</a></li>
</ul>
<h3 id="relevant-deep-dives">Relevant deep-dives</h3>
<p><a href="../generic-skills-step-by-step"> This guide </a> goes through a more elaborate scenario than the one on this page, where after finding each other, the two AEAs negotiate and trade via a ledger. </p>
<p><br /></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        <footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../aea-vs-mvc/" title="AEA and web frameworks" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                AEA and web frameworks
              </span>
            </div>
          </a>
        
        
          <a href="../core-components-2/" title="Core components - Part 2" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Core components - Part 2
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://fetch.ai/" target=_blank>Fetch.AI &copy 2021</a>
        and the
        <a href="https://github.com/fetchai/docs/" target=_blank>
          Fetch.AI Documentation Suite</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.0ac82a11.min.js"></script>
      <script src="../../assets/javascripts/bundle.f81dfb4d.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js"></script>
      
    
  </body>
</html>